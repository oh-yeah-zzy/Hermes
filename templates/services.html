{% extends "base.html" %}

{% block content %}
<div class="services-page">
    <div class="page-header">
        <h1>服务目录</h1>
        <span class="header-info">点击服务卡片进入对应服务</span>
    </div>

    {% if services %}
    <div class="services-grid">
        {% for service in services %}
        <a href="{{ service.base_url }}" class="service-card status-{{ service.status }}" data-icon="{{ service.icon }}">
            <div class="service-header">
                <span class="service-icon">
                    {% if service.icon == 'shield' %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    {% elif service.icon == 'file' %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                    </svg>
                    {% elif service.icon == 'database' %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <ellipse cx="12" cy="5" rx="9" ry="3"/>
                        <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/>
                        <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>
                    </svg>
                    {% elif service.icon == 'map' %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="10" r="3"/>
                        <path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 7 8 11.7z"/>
                    </svg>
                    {% elif service.icon == 'cloud' %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"/>
                    </svg>
                    {% elif service.icon == 'key' %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/>
                    </svg>
                    {% else %}
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                    </svg>
                    {% endif %}
                </span>
                <span class="service-status-dot"></span>
            </div>
            <h3 class="service-title">{{ service.name }}</h3>
            <p class="service-desc">{{ service.description or '暂无描述' }}</p>
            <div class="service-footer">
                <span class="service-type">{{ service.service_type }}</span>
                <span class="service-link">访问 &rarr;</span>
            </div>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <div class="empty-icon">&#128230;</div>
        <h3>暂无可用服务</h3>
        <p>ServiceAtlas 中没有注册其他服务，或服务注册功能未启用</p>
    </div>
    {% endif %}
</div>
{% endblock %}
